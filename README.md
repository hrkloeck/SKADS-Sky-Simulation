# SKADS-Sky-Simulation

The SKA Design Study Sky Simulations (SKADS)

The SKADS Simulated Skies (S-cubed) are a set of simulations of the radio sky performed at the
University of Oxford (long time ago), suitable for planning science with the Square Kilometer 
Array radio telescope. Here you find the information needed to use these simulations.


*The radio continuum is descriped by the S-cubed - Semi-Empirical
eXtragalactic (SEX) simulation* [(Wilman et al. 2008)](https://academic.oup.com/mnras/article/388/3/1335/956611)

    We have developed a semi-empirical simulation of the extragalactic radio continuum sky suitable for aiding the design of next generation radio interferometers such as the Square Kilometre Array (SKA). The emphasis is on modelling the large-scale cosmological distribution of radio sources rather than the internal structure of individual galaxies. Here we provide a description of the simulation to accompany the online release of a catalogue of ≃320 million simulated radio sources. The simulation covers a sky area of 20 × 20 deg2– a plausible upper limit to the instantaneous field of view attainable with future (e.g. SKA) aperture array technologies – out to a cosmological redshift of z= 20, and down to flux density limits of 10 nJy at 151, 610 MHz, 1.4, 4.86 and 18 GHz. Five distinct source types are included: radio-quiet active galactic nuclei (AGN), radio-loud AGN of the Fanaroff–Riley type I (FR I) and FR II structural classes, and star-forming galaxies, the latter split into populations of quiescent and starbursting galaxies.
In our semi-empirical approach, the simulated sources are drawn from observed (or extrapolated) luminosity functions and grafted on to an underlying dark matter density field with biases which reflect their measured large-scale clustering. A numerical Press–Schechter style filtering of the density field is used to identify and populate clusters of galaxies. For economy of output, radio source structures are constructed from point source and elliptical subcomponents, and for FR I and FR II sources an orientation-based unification and beaming model is used to partition flux between the core and extended lobes and hotspots. The extensive simulation output gives users the flexibility to post-process the catalogues to achieve more complete agreement with observational data in the years ahead. The ultimate aim is for the idealized skies generated by this simulation and associated post-processing to be fed to telescope simulators to optimize the design of the SKA itself.


*A virtual sky of extragalactic HI and CO Lines is descriped by the Semi-Analytic
eXtragalactic simulations (SAX)* [(Obreschkow et al. 2009)](https://iopscience.iop.org/article/10.1088/0004-637X/703/2/1890)

>We present a sky simulation of the atomic HI-emission line and the first 10 CO rotational emission lines of molecular gas in galaxies beyond the Milky Way. The simulated sky field has a comoving diameter of 500 h−1 Mpc; hence, the actual field of view depends on the (user-defined) maximal redshift zmax; e.g., for zmax = 10, the field of view yields ∼4 × 4 deg2. For all galaxies, we estimate the line fluxes, line profiles, and angular sizes of the H i and CO-emission lines. The galaxy sample is complete for galaxies with cold hydrogen masses above 108 M☉. This sky simulation builds on a semi-analytic model of the cosmic evolution of galaxies in a lambda cold dark matter cosmology. The evolving CDM distribution was adopted from the Millennium Simulation, an N-body CDM simulation in a cubic box with a side length of 500 h−1 Mpc. This side length limits the coherence scale of our sky simulation: it is long enough to allow the extraction of the baryon acoustic oscillations in the galaxy power spectrum, yet the position and amplitude of the first acoustic peak will be imperfectly defined. This sky simulation is a tangible aid to the design and operation of future telescopes, such as the Square Kilometre Array, Large Millimeter Telescope, and Atacama Large Millimeter/Submillimeter Array. The results presented in this paper have been restricted to a graphical representation of the simulated sky and fundamental dN/dz analyses for peak flux density limited and total flux limited surveys of H i and CO. A key prediction is that H i will be harder to detect at redshifts z ≳ 2 than predicted by a no-evolution model. The future verification or falsification of this prediction will allow us to qualify the semi-analytic models.



# Howto get the simulations and accessing these 

- Step 1: Get the simulations

[get the Radio Continuum Simulations skads_sex.sql.gz data base 103 GB](http://ftp.mpifr-bonn.mpg.de/s-cubed/skads_sex.sql.gz)

[get the HI/CO download the S3SAX01.sql.gz data base 103 GB](http://ftp.mpifr-bonn.mpg.de/s-cubed/S3SAX01.sql.gz)


- Step 2: convert the mysql dump into a sqlite3 data base 

```git clone https://github.com/mysql2sqlite/mysql2sqlite```

```gunzip skads_sex.sql.gz```

```gunzip S3SAX01.sql.gz```

copy the mysql2sqlite script into the directory where the mysql dumps are spaced.

```mysql2sqlite skads_sex.sql | sqlite3 skads_sex_sqlite3.db```

```mysql2sqlite S3SAX01.sql | sqlite3 S3SAX01_sqlite3.db```

- Step 2: build a virtual environment via anaconda
install software (assuming you have anaconda installed)

matplotlib, astropy, scipy, matplotylib, sqlite

conda create --name SKADS python matplotlib astropy scipy SQLAlchemy

Step 3: access the data base

conda activate SKADS

~~~
python
import sqlite3
con        = sqlite3.connect('skads_sex_sqlite3.db')
cursor     = con.cursor()
query      = 'select t1.galaxy, t1.itot_151,t2.right_ascension,t2.declination,t2.position_angle,t2.major_axis,t2.minor_axis where t1.galaxy = t2.galaxy limit=10'
cursor.execute(query)
for row in cursor.fetchall() :
    print(row)
~~~

Step 4: Generate a plot of sources


